<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Loading Indicators</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .btn {
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .btn-primary {
            background-color: #007bff;
            color: white;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }
        
        .btn-spinner {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .btn-spinner svg {
            animation: spin 1s linear infinite;
            flex-shrink: 0;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed !important;
            position: relative;
        }
        
        .btn:disabled .btn-spinner {
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1>ðŸ§ª Loading Indicators Test</h1>
    
    <div class="test-section">
        <h2>Booking Range Status Actions</h2>
        <p>These buttons simulate the loading states for the booking range actions:</p>
        
        <button id="refreshRangeStatus" class="btn btn-secondary">
            <span class="btn-text">Refresh Status</span>
            <span class="btn-spinner" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12a9 9 0 11-6.219-8.56"/>
                </svg>
                Refreshing...
            </span>
        </button>
        
        <button id="extendRange" class="btn btn-primary">
            <span class="btn-text">Extend Range</span>
            <span class="btn-spinner" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12a9 9 0 11-6.219-8.56"/>
                </svg>
                Extending...
            </span>
        </button>
        
        <button id="forceRefresh" class="btn btn-warning">
            <span class="btn-text">Force Regenerate Schedule</span>
            <span class="btn-spinner" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12a9 9 0 11-6.219-8.56"/>
                </svg>
                Regenerating...
            </span>
        </button>
    </div>
    
    <div class="test-section">
        <h2>Test Controls</h2>
        <button onclick="testLoadingState('refreshRangeStatus')" class="btn btn-secondary">Test Refresh Loading</button>
        <button onclick="testLoadingState('extendRange')" class="btn btn-primary">Test Extend Loading</button>
        <button onclick="testLoadingState('forceRefresh')" class="btn btn-warning">Test Force Refresh Loading</button>
        <button onclick="resetAllButtons()" class="btn" style="background: #28a745; color: white;">Reset All</button>
    </div>

    <script>
        function setButtonLoading(buttonId, loading) {
            const button = document.getElementById(buttonId);
            if (!button) return;

            const textSpan = button.querySelector('.btn-text');
            const spinnerSpan = button.querySelector('.btn-spinner');

            if (loading) {
                button.disabled = true;
                if (textSpan) textSpan.style.display = 'none';
                if (spinnerSpan) spinnerSpan.style.display = 'flex';
            } else {
                button.disabled = false;
                if (textSpan) textSpan.style.display = 'inline';
                if (spinnerSpan) spinnerSpan.style.display = 'none';
            }
        }
        
        function testLoadingState(buttonId) {
            setButtonLoading(buttonId, true);
            
            // Simulate API call duration (3-5 seconds)
            setTimeout(() => {
                setButtonLoading(buttonId, false);
            }, 3000);
        }
        
        function resetAllButtons() {
            ['refreshRangeStatus', 'extendRange', 'forceRefresh'].forEach(id => {
                setButtonLoading(id, false);
            });
        }
        
        // Auto-demo on page load
        setTimeout(() => {
            console.log('ðŸŽ¬ Auto-demo: Testing all loading states...');
            testLoadingState('refreshRangeStatus');
            
            setTimeout(() => testLoadingState('extendRange'), 1000);
            setTimeout(() => testLoadingState('forceRefresh'), 2000);
        }, 1000);
    </script>
</body>
</html>
